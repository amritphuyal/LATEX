
%%% Formating And Command for Embedded Lab  VHDl
%% \ancode{caption}{Filename}


\usepackage{listings}
\usepackage{multicol}
\usepackage{mdframed}

\renewcommand{\lstlistlistingname}{List of VHDLCodes}
\renewcommand{\lstlistingname}{Code}

\setlength{\columnsep}{0.5cm}

\usepackage{xcolor}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.4,0.4,0.4}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
%\definecolor{backcolour}{rgb}{0.95,0.99,0.92}
\definecolor{backcolour}{rgb}{0,0,0}

\lstdefinestyle{VHDL}{
  backgroundcolor=\color{backcolour},   commentstyle=\color{codegreen},
  keywordstyle=\color{cyan},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codepurple},
  basicstyle=\ttfamily\footnotesize\color{white},
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  morekeywords={LIBRARY, USE ,ALL,ENTITY,IS,PORT,IN,OUT,END,ARCHITECTURE, CONFIGURATION, OF, BODY,FUNCTION, VARIABLE, BEGIN,AND,OR,NOT, XOR, DOWNTO,ALL, SIGNAL, PROCESS, IF,
      ELSE, ELSIF, CASE, WHEN, THEN, RANGE, TO, COMPONENT, TYPE, WITH, SELECT,
      OTHERS, CONSTANT, INOUT, BUFFER, MAP, TRUE, FALSE, ARRAY, SUBTYPE, WAIT,
      WAIT FOR, GENERIC, =, <, >, <=, >=, =>},
  keepspaces=true,
  language=VHDL,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=3
}




\newcommand {\anscode}[2]{

  \begin{center}
    \textbf{ $
        \Downarrow $ #2  $\Downarrow  $ }
  \end{center}
  \begin{multicols}{2}
    \lstinputlisting[style=VHDL,nolol]{#2}
  \end{multicols}

  \begingroup
  \captionof{lstlisting}{#1}
  \endgroup

}

%%% Formating And Command for Embedded Lab  VHDL